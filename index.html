<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RCAF CYBER COMMAND: SUBNETTING MASTERCLASS</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <main class="course-container">
        <header class="main-header">
            <h1>RCAF CYBER COMMAND</h1>
            <p>SUBNETTING MASTERCLASS</p>
            <button id="themeToggle">Toggle Theme</button>
        </header>

        <!-- CHAPTER 1 -->
        <details class="chapter scroll-animate" open id="chapter-1">
            <summary>Chapter 1: The Fundamentals</summary>
            <div class="chapter-content">
                <p>Welcome, Recruit. Before you can defend the network, you must understand its language. The language of the internet is based on IP addresses.</p>
                <ul>
                    <li>An <strong>IP Address</strong> (like 192.168.1.1) is a unique address for a device on a network.</li>
                    <li>It is made of four numbers called <strong>Octets</strong>. Each octet is a <strong>Byte</strong> (8 <strong>Bits</strong>).</li>
                    <li>A bit is the smallest unit of data: either a <strong>1 (on)</strong> or a <strong>0 (off)</strong>.</li>
                </ul>
                <div class="interactive-area">
                    <h3>Binary Switchboard</h3>
                    <p>Click the switches to see how 8 bits create a decimal number from 0 to 255.</p>
                    <div class="byte-switchboard" id="byteSwitchboard"></div>
                    <div class="byte-total" id="byteTotal">0</div>
                </div>
                <div style="margin-top: 1.5rem;">
                    <h3>IP Address Classes & Ranges</h3>
                    <ul>
                        <li><strong>Class A, B, C:</strong> Old system for sizing networks. Largely replaced by CIDR.</li>
                        <li><strong>Private (RFC1918):</strong> IPs for internal networks (home, office). Not routable on the public internet.
                            <ul>
                                <li>10.0.0.0/8 | 172.16.0.0/12 | 192.168.0.0/16</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </details>
        
        <!-- CHAPTER 2: FINDING BOUNDARIES -->
        <details class="chapter scroll-animate" id="chapter-2">
            <summary>Chapter 2: Finding Network, Broadcast, & Usable IPs</summary>
            <div class="chapter-content">
                <p>This is the most critical skill. Given an IP like <code>172.16.20.119 /26</code>, you must be able to find the three key addresses: the Network ID, the Broadcast IP, and the range of Usable IPs.</p>
                <h3>Step 1: Find the Magic Number</h3>
                <p>The CIDR (<code>/26</code>) tells you the mask. Chapter 3 has a cheat sheet, but for /26 the mask is 255.255.255.192. The "interesting" octet is the one that is not 255, so: <strong>192</strong>.</p>
                <p>The Magic Number is <code>256 - 192 = <strong>64</strong></code>. This is your block size. It means networks come in blocks of 64 addresses.</p>
                <h3>Step 2: Find the Network ID (The Start of the Block)</h3>
                <p>Look at the octet in the IP that corresponds to the interesting octet: 172.16.20.<strong>119</strong>. Find the multiple of your Magic Number (64) that is less than or equal to 119. The multiples are 0, 64, 128... The highest one without going over is <strong>64</strong>.</p>
                <p>So, the Network ID is <code>172.16.20.<strong>64</strong></code>.</p>
                <h3>Step 3: Find the Broadcast IP (The End of the Block)</h3>
                <p>The next block starts at the next multiple of 64 (which is 128). So, the next network would be 172.16.20.128. The Broadcast IP is the address right before that.</p>
                <p>So, the Broadcast IP is <code>172.16.20.<strong>127</strong></code>.</p>
                <h3>Step 4: Find the Usable IPs</h3>
                <p>This is the easy part. The usable range is everything between the Network and Broadcast addresses.</p>
                <ul>
                    <li><strong>First Usable IP</strong>: Network ID + 1 = <code>172.16.20.<strong>65</strong></code></li>
                    <li><strong>Last Usable IP</strong>: Broadcast IP - 1 = <code>172.16.20.<strong>126</strong></code></li>
                </ul>
                <div class="interactive-area">
                    <h3>Boundary Practice</h3>
                    <p>Let's drill this. For the IP and CIDR below, what are the Network and Broadcast IPs?</p>
                    <div class="quiz-question" id="boundaryProblem"></div>
                    <div class="calculator-input" style="margin-top: 1rem;">
                        <input type="text" id="boundaryNetwork" placeholder="Network ID...">
                        <input type="text" id="boundaryBroadcast" placeholder="Broadcast IP...">
                    </div>
                    <button id="boundaryCheckBtn" class="btn">Check Boundaries</button>
                    <div id="boundaryFeedback" style="margin-top: 1rem; padding: 1rem; border-radius: 8px; display: none;"></div>
                </div>
            </div>
        </details>

        <!-- CHAPTER 3 -->
        <details class="chapter scroll-animate" id="chapter-3">
            <summary>Chapter 3: The Magic Number</summary>
            <div class="chapter-content">
                <p>The fastest way to calculate subnets is the <strong>"Magic Number"</strong> method (also called Block Size).</p>
                <ul>
                    <li>Find the octet in the subnet mask that is <strong>not</strong> 255.</li>
                    <li>Calculate: <code>256 - [That Number] = Magic Number</code>.</li>
                    <li>Example: /27 mask is 255.255.255.<strong>224</strong> &rarr; <code>256 - 224 = 32</code>. The Magic Number is 32.</li>
                    <li>This means networks start at 0, 32, 64, 96... in that octet.</li>
                </ul>
                <div class="interactive-area">
                    <h3>Magic Number Cheat Sheet (/24 - /30)</h3>
                    <table id="magicNumberTable" style="width:100%; font-family:var(--font-mono); text-align:center;"></table>
                </div>
            </div>
        </details>

        <!-- CHAPTER 4 -->
        <details class="chapter scroll-animate" id="chapter-4">
            <summary>Chapter 4: The Ultimate Calculator</summary>
            <div class="chapter-content">
                <p>Use the tactical calculator to analyze any IP address. The animated log will walk you through the logic step-by-step.</p>
                <div class="interactive-area">
                    <div class="calculator-input">
                        <input type="text" id="calcIpInput" value="192.168.10.50">
                        <input type="text" id="calcCidrInput" value="/27" style="width: 80px;">
                        <button id="calcBtn" class="btn">Calculate</button>
                    </div>
                    <h3>Calculation Log</h3>
                    <div class="calc-log" id="calcLog"></div>
                    <h3 style="margin-top:1.5rem;">Final Analysis</h3>
                    <div class="calc-results" id="calcResults"></div>
                </div>
            </div>
        </details>

        <!-- CHAPTER 4.5: IP WORKOUT -->
        <details class="chapter scroll-animate" id="chapter-4.5">
            <summary>Chapter 4.5: The Drill Sergeant's IP Workout</summary>
            <div class="chapter-content">
                <p>Reading the steps is one thing, doing them is another. This drill will build your mental muscle memory for subnetting.</p>
                <h3>The 3-Step IP Workout</h3>
                <ol>
                    <li><strong>Find the Magic Number:</strong> Look at the CIDR (e.g., /26). Find the subnet mask octet that isn't 255 (for /26, it's 192). Calculate <code>256 - 192 = <strong>64</strong></code>. That's your block size.</li>
                    <li><strong>Find the Network ID:</strong> Look at the same octet in the IP address (e.g., 192.168.10.<strong>77</strong>). Find the multiple of the Magic Number (64) that is less than or equal to that number. Multiples are 0, 64, 128, 192... The answer is 64. The Network ID is 192.168.10.<strong>64</strong>.</li>
                    <li><strong>Find the Broadcast IP:</strong> The *next* network starts at the next multiple (64 + 64 = 128). So, the next network is 192.168.10.128. The broadcast address is the IP right before that: 192.168.10.<strong>127</strong>.</li>
                </ol>
                <p>Once you have those, the usable IPs are easy: First Usable is Network ID + 1, Last Usable is Broadcast IP - 1.</p>
                <div class="interactive-area">
                    <h3>IP Drill</h3>
                    <p>Given the following IP and CIDR, calculate the Network ID and Broadcast IP.</p>
                    <div class="quiz-question" id="drillProblem"></div>
                    <div class="calculator-input" style="margin-top: 1rem;">
                        <input type="text" id="drillNetworkId" placeholder="Your Network ID...">
                        <input type="text" id="drillBroadcastIp" placeholder="Your Broadcast IP...">
                    </div>
                    <button id="drillCheckBtn" class="btn">Check My Work</button>
                    <div id="drillFeedback" style="margin-top: 1rem; padding: 1rem; border-radius: 8px; display: none;"></div>
                </div>
            </div>
        </details>

        <!-- CHAPTER 5 -->
        <details class="chapter scroll-animate" id="chapter-5">
    <summary>Chapter 5: Advanced Concepts (VLSM)</summary>
            <div class="chapter-content">
                <p><strong>Variable Length Subnet Masking (VLSM)</strong> is an efficiency technique. Instead of cutting all subnets into equal sizes, you cut them into different sizes based on need, preventing wasted IP addresses.</p>
                <div class="interactive-area">
                    <h3>VLSM Diagram: /24 sliced into two /25s</h3>
                    <div class="vlsm-diagram">
                        /24 Block (e.g., 192.168.0.0/24)
                        <div class="split-line"></div>
                        <div class="vlsm-sub-container">
                            <div class="vlsm-box" style="border-color:var(--net-color)">/25 Subnet 1<br>(128 IPs)</div>
                            <div class="vlsm-box" style="border-color:var(--host-color)">/25 Subnet 2<br>(128 IPs)</div>
                        </div>
                    </div>
                </div>
            </div>
        </details>

<!-- CHAPTER 7 -->
<details class="chapter scroll-animate" id="chapter-6">
    <summary>Chapter 6: The Gauntlet</summary>
            <div class="chapter-content">
                <p>Test your skills. Select a difficulty and prove your mastery. Wrong answers will provide a hint explaining the logic.</p>
                <div class="interactive-area">
                    <div class="quiz-controls">
                        <select id="quizDifficulty">
                            <option value="1">Level 1: Recruit</option>
                            <option value="2">Level 2: Soldier</option>
                            <option value="3">Level 3: Commander</option>
                        </select>
                        <div id="quizScore">Score: 0</div>
                    </div>
                    <div class="quiz-question" id="quizQuestion"></div>
                    <div class="quiz-options" id="quizOptions"></div>
                    <div id="quizFeedback"></div>
                </div>
            </div>
        </details>
        
        <!-- CHAPTER 7: Wildcard Drill -->
        <details class="chapter scroll-animate" id="chapter-7">
            <summary>Chapter 7: The Wildcard Drill</summary>
            <div class="chapter-content">
                <p>A <strong>Wildcard Mask</strong> is the inverse of a subnet mask, used in router and firewall Access Control Lists (ACLs). To calculate it, subtract each subnet mask octet from 255.</p>
                <p>Example: A mask of 255.255.255.240 becomes a wildcard of 0.0.0.15.</p>
                <div class="interactive-area">
                    <div class="quiz-question" id="wildcardQuizQuestion"></div>
                    <div class="quiz-options" id="wildcardQuizOptions"></div>
                    <div id="wildcardQuizFeedback"></div>
                </div>
            </div>
        </details>
        
        <!-- CHAPTER 8: Reverse CIDR Challenge -->
        <details class="chapter scroll-animate" id="chapter-8">
            <summary>Chapter 8: Reverse CIDR Challenge</summary>
            <div class="chapter-content">
                <p>This is the ultimate test of understanding. Given a Network ID and a Broadcast address, you must determine the correct CIDR that creates this range.</p>
                <div class="interactive-area">
                    <div class="quiz-question" id="reverseCidrQuizQuestion"></div>
                    <div class="quiz-options" id="reverseCidrQuizOptions"></div>
                    <div id="reverseCidrQuizFeedback"></div>
                </div>
            </div>
        </details>
        
        <!-- CHAPTER 9: AI MENTOR -->
        <details class="chapter scroll-animate" id="chapter-9">
            <summary>Chapter 9: AI Cyber Mentor</summary>
            <div class="chapter-content">
                <p>Ask me questions about subnetting. I can provide definitions, explain concepts, or generate a new quiz question for you.</p>
                <div class="interactive-area">
                    <div id="aiChatWindow"></div>
                    <input type="text" id="aiChatInput" placeholder="Ask a question, e.g., 'what is a broadcast address?'" />
                </div>
            </div>
        </details>

    </main>
    <script src="script.js"></script>
</body>
</html>